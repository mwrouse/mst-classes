# Lexical Analysis
Lexical analysis is a step in a compiler that converts a string of characters (input) into a string of *tokens with a meaning.*

A program that performs lexical analysis is a *Lexer.*

## Definitions 
A *Lexeme* is a syntactical unit in a language

A *Token* represents a lexeme and indicates a "category" for the purpose of parsing. 

**Example:** ```int a = 9 * 9;```
| Lexeme    | Token |
|-----------|-------|
| int       | TYPE  |
| a         | IDENTIFIER |
| =	    | ASSIGNMENT |
| 9         | INT LITERAL |
| *         | MULTIPLICATION |
| 9         | INT LITERAL |
| ;         | END STATEMENT |

## Flex 
Flex is a lexical analyzer generator, it gets translated into C/C++.

#### Flex Specification File (filename.l)
| Section | Contents |
|---------|----------|
|Pre-amble| Flex commands/directives (%command)  |
|         | %{ C/C++ Code copied to output file %}  |
|separator|%%|
|RegExs| RegEx { C/C++ code to execute if matches }|
||%%|
|Coda| C/C++ Code (copied to output file)|

```/* This is a comment in Flex */```

#### Special Flex Variables 
| Variable | Type | Data | 
|----------|:----:|------|
| ```yytext```   | ```char[]``` | Matched string |
| ```yylen```    | ```int``` | Length of yytext |
| ```yylval```   | ```int``` | Token attribute |
| ```yyin```     |   | input file | 


#### Special Flex Function s
| Function | Return Value | Description | 
|----------|:------------:|-------------|
| ```yylex()```  |     n/a      | Calls function generated by Flex to analyze |

#### Mixing C and C++ Code with Flex 
To mix C and C++ code in Flex you must use the following: 
```#define YY_DECL extern "C" int yylex()```

#### Flex Conflict Resolution 
Flex prefers regular expressions that match *longer strings* over shorter strings. 

**Example:** ```123abc``` would match as a string rather than int 
  ```123``` matches an int regex

  ```123abc``` matches a string regex

If two regular expressions match the same string the one declared first in the Flex spec file will get the match. 

#### Compiling Flex 
Use the following command to compile Flex: 
```flex filename.l```

Flex will automatically generate a ```lex.yy.c``` file, use g++ to compile the C code: 
```g++ lex.yy.c -lfl -o outputfilename```

